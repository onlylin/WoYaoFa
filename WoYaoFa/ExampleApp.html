<!doctype html>
<html><head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
</head><body>
  <div id='log'></div>
  <input id="mybutton" type="button" value="dian ji" onclick="testClick()"/>
</body>
<script>

  window.onload = function() {
    function connectWebViewJavascriptBridge(callback){
      if (window.WebViewJavascriptBridge) {
  			callback(WebViewJavascriptBridge)
  		} else {
  			document.addEventListener('WebViewJavascriptBridgeReady', function() {
  				callback(WebViewJavascriptBridge)
  			}, false)
  		}
    }

    connectWebViewJavascriptBridge(function(bridge){
      bridge.init(function(message,responseCallback) {

      })

      bridge.registerHandler('request',function(data,responseCallback){
        alert(data.foo);
        var responseData = { 'Javascript Says':'Right back atcha!' }
  			responseCallback(responseData)
      })

      bridge.callHandler('testCall', {'foo': 'bar'}, function(response) {
        alert("desesese");
			})

      function testClick() {
        alert("dddaaaa");
      }

    });
  }
</script>
</html>
